<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>No pains,no gains</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="No pains,no gains">
<meta property="og:url" content="https://mengxu2018.github.io/index.html">
<meta property="og:site_name" content="No pains,no gains">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="No pains,no gains">
  
    <link rel="alternate" href="/atom.xml" title="No pains,no gains" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">No pains,no gains</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://mengxu2018.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-kubernetes-basic-definition" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/06/kubernetes-basic-definition/" class="article-date">
  <time datetime="2021-03-06T14:51:52.000Z" itemprop="datePublished">2021-03-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/06/kubernetes-basic-definition/">kubernetes basic</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ingress"><a href="#ingress" class="headerlink" title="ingress"></a>ingress</h2><p>In Kubernetes, an Ingress is an object that allows access to your Kubernetes services from outside the Kubernetes cluster. You configure access by creating a collection of rules that define which inbound connections reach which services.</p>
<p><a href="https://stackoverflow.com/questions/56896490/what-exactly-kubernetes-services-are-and-how-they-are-different-from-deployments" target="_blank" rel="noopener">https://stackoverflow.com/questions/56896490/what-exactly-kubernetes-services-are-and-how-they-are-different-from-deployments</a></p>
<h2 id="cluster-context-user"><a href="#cluster-context-user" class="headerlink" title="cluster context user"></a>cluster context user</h2><p>Cluster defines connection endpoint for Kubernetes API of a cluster.</p>
<p>User defines credentials for connecting to cluster.</p>
<p>Context defines both cluster and user.</p>
<p><a href="https://stackoverflow.com/questions/56299440/kubectl-context-vs-cluster" target="_blank" rel="noopener">https://stackoverflow.com/questions/56299440/kubectl-context-vs-cluster</a></p>
<h2 id="volumes"><a href="#volumes" class="headerlink" title="volumes"></a>volumes</h2><p>Volume decouples the storage from the Container. Its lifecycle is coupled to a pod. It enables safe container restarts and sharing data between containers in a pod.</p>
<p>Persistent Volume decouples the storage from the Pod. Its lifecycle is independent. It enables safe pod restarts and sharing data between pods.</p>
<p><a href="https://stackoverflow.com/questions/51420621/what-is-the-difference-between-a-volume-and-persistent-volume" target="_blank" rel="noopener">https://stackoverflow.com/questions/51420621/what-is-the-difference-between-a-volume-and-persistent-volume</a></p>
<h2 id="ip"><a href="#ip" class="headerlink" title="ip"></a>ip</h2><p>Each Pod has a single IP address assigned from the Pod CIDR range of its node. This IP address is shared by all containers running within the Pod, and connects them to other Pods running in the cluster.</p>
<p>Each Service has an IP address, called the ClusterIP, assigned from the cluster’s VPC network. You can optionally customize the VPC network when you create the cluster.</p>
<p>Each Pod gets its own IP address, however in a Deployment, the set of Pods running in one moment in time could be different from the set of Pods running that application a moment later.</p>
<p>This leads to a problem: if some set of Pods (call them “backends”) provides functionality to other Pods (call them “frontends”) inside your cluster, how do the frontends find out and keep track of which IP address to connect to, so that the frontend can use the backend part of the workload? enter service.</p>
<h2 id="exec-container-or-pod"><a href="#exec-container-or-pod" class="headerlink" title="exec container or pod"></a>exec container or pod</h2><p><a href="https://kubernetes.io/docs/tasks/debug-application-cluster/get-shell-running-container/" target="_blank" rel="noopener">https://kubernetes.io/docs/tasks/debug-application-cluster/get-shell-running-container/</a></p>
<h2 id="headless-service"><a href="#headless-service" class="headerlink" title="headless service"></a>headless service</h2><p>The working principle of a ClusterIP Service is as follows:</p>
<p>One Service may be backed by multiple endpoints (pods). A client accesses the cluster IP address and the request is forwarded to the real server based on the iptables rules to implement load balancing. For example, a Service is backed by two endpoints, but only the Service address is returned during DNS query. iptables determines the real server accessed by the client. However, when a headless Service is accessed, two actual endpoint records (pod IP addresses) are returned.</p>
<p>Therefore, the headless Service points directly to each endpoint, that is, each pod has a DNS domain name. In this way, pods can access each other, achieving inter-pod discovery and access.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2021/03/06/kubernetes-basic-definition/" data-id="ckqdtl1mi0000f08eboyx8zgw" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kubernetes/">kubernetes</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-spring-boot-debug" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2021/03/04/spring-boot-debug/" class="article-date">
  <time datetime="2021-03-04T14:51:52.000Z" itemprop="datePublished">2021-03-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2021/03/04/spring-boot-debug/">spring boot debug</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>spring-boot:run -Dspring-boot.run.fork=false -f pom.xml</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2021/03/04/spring-boot-debug/" data-id="ckqdtl1mr0001f08eiqj5iv1t" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/spring-boot/">spring-boot</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-postgres-cluster" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/07/16/postgres-cluster/" class="article-date">
  <time datetime="2020-07-16T14:51:52.000Z" itemprop="datePublished">2020-07-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/07/16/postgres-cluster/">postgres cluster</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://severalnines.com/database-blog/postgresql-replication-disaster-recovery" target="_blank" rel="noopener">https://severalnines.com/database-blog/postgresql-replication-disaster-recovery</a><br><a href="https://wiki.postgresql.org/wiki/Replication,_Clustering,_and_Connection_Pooling" target="_blank" rel="noopener">https://wiki.postgresql.org/wiki/Replication,_Clustering,_and_Connection_Pooling</a><br><a href="https://www.postgresql.org/docs/current/protocol-replication.html" target="_blank" rel="noopener">https://www.postgresql.org/docs/current/protocol-replication.html</a><br><a href="https://www.cnblogs.com/marsprj/archive/2013/03/04/2943373.html" target="_blank" rel="noopener">https://www.cnblogs.com/marsprj/archive/2013/03/04/2943373.html</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/07/16/postgres-cluster/" data-id="ckqdtl1mu0003f08e1oihmh4r" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/database/">database</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-elasticsearch-remote-access" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/27/elasticsearch-remote-access/" class="article-date">
  <time datetime="2020-06-27T14:51:52.000Z" itemprop="datePublished">2020-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/27/elasticsearch-remote-access/">elasticsearch cluster</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/file-descriptors.html" target="_blank" rel="noopener">https://www.elastic.co/guide/en/elasticsearch/reference/current/file-descriptors.html</a><br><a href="https://discuss.elastic.co/t/problems-with-access-to-elasticsearch-form-outside-machine/172450" target="_blank" rel="noopener">https://discuss.elastic.co/t/problems-with-access-to-elasticsearch-form-outside-machine/172450</a></p>
<p>修改配置elasticsearch.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">network.host: 0.0.0.0</span><br></pre></td></tr></table></figure></p>
<p>文件句柄问题就是修改/etc/security/limits.conf，下面的xuhang就是启动es的用户名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">xuhang soft nofile 65536</span><br><span class="line">xuhang hard nofile 65536</span><br></pre></td></tr></table></figure></p>
<p>the default discovery settings are unsuitable for production use, 修改elasticsearch.yml<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">discovery.seed_hosts: []</span><br></pre></td></tr></table></figure></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/27/elasticsearch-remote-access/" data-id="ckbxofai20000couxh5gafswo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/search/">search</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-powershell概念" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/22/powershell概念/" class="article-date">
  <time datetime="2020-06-22T12:44:15.000Z" itemprop="datePublished">2020-06-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/22/powershell概念/">powershell 概念</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="net-powershell"><a href="#net-powershell" class="headerlink" title=".net powershell"></a>.net powershell</h2><p>The reason for this is that PowerShell commands can read and write objects, as opposed to conventional shells that can only process strings of text. Because PowerShell runs on the .NET platform, the objects that are used are .NET objects, which makes it an ideal scripting language for .NET programs.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/22/powershell概念/" data-id="ckbxofaj20006coux3tukd7zn" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/powershell/">powershell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-powershell-sample" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/22/powershell-sample/" class="article-date">
  <time datetime="2020-06-22T12:44:15.000Z" itemprop="datePublished">2020-06-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/22/powershell-sample/">powershell sample</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="create-excel-前提是ms-office是安装好的"><a href="#create-excel-前提是ms-office是安装好的" class="headerlink" title="create excel(前提是ms office是安装好的)"></a>create excel(前提是ms office是安装好的)</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"># create new excel instance</span><br><span class="line"> $objExcel = New-Object -comobject Excel.Application</span><br><span class="line"> $objExcel.Visible = $True</span><br><span class="line"> $objWorkbook = $objExcel.Workbooks.Add()</span><br><span class="line"> $objWorksheet = $objWorkbook.Worksheets.Item(1)</span><br><span class="line"></span><br><span class="line"> # write information to the excel file</span><br><span class="line">$i = 0</span><br><span class="line">$first10 = (ps | sort ws -Descending | select -first 10)</span><br><span class="line">$first10 | foreach -Process &#123;$i++; $objWorksheet.Cells.Item($i,1) = $_.name; $objWorksheet.Cells.Item($i,2) = $_.ws&#125;</span><br><span class="line">$otherMem = (ps | measure ws -s).Sum - ($first10 | measure ws -s).Sum</span><br><span class="line">$objWorksheet.Cells.Item(11,1) = &quot;Others&quot;; $objWorksheet.Cells.Item(11,2) = $otherMem</span><br><span class="line"></span><br><span class="line"># draw the pie chart</span><br><span class="line">$objCharts = $objWorksheet.ChartObjects()</span><br><span class="line">$objChart = $objCharts.Add(0, 0, 500, 300)</span><br><span class="line">$objChart.Chart.SetSourceData($objWorksheet.range(&quot;A1:B11&quot;), 2)</span><br><span class="line">$objChart.Chart.ChartType = 70</span><br><span class="line">$objChart.Chart.ApplyDataLabels(5)</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/22/powershell-sample/" data-id="ckbxofaj50007coux3zhmkel8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/powershell/">powershell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-powershell-module" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/18/powershell-module/" class="article-date">
  <time datetime="2020-06-18T12:44:15.000Z" itemprop="datePublished">2020-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/18/powershell-module/">powershell module</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="guide"><a href="#guide" class="headerlink" title="guide"></a>guide</h2><p><a href="https://www.pstips.net/create-mini-module.html" target="_blank" rel="noopener">https://www.pstips.net/create-mini-module.html</a></p>
<h2 id="打开-powershell-ise"><a href="#打开-powershell-ise" class="headerlink" title="打开 powershell ise"></a>打开 powershell ise</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">function Get-BIOS</span><br><span class="line">&#123;  param($ComputerName, $Credential)</span><br><span class="line">   Get-WmiObject -Class Win32_BIOS @PSBoundParameters</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">$name = &apos;Get-BIOS&apos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">New-Item -Path $home\Documents\WindowsPowerShell\Modules\$name\$name.psm1 -ItemType File -Force -Value &quot;function $name &#123; $((Get-Item function:\$name).Definition) &#125;&quot; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">打开新窗口</span><br><span class="line"></span><br><span class="line">Get-Module  -Name Get-BIOS</span><br><span class="line">Get-BIOS</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/18/powershell-module/" data-id="ckbxofaj00005couxhkoiw2x8" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/powershell/">powershell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-powershell常用命令" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/18/powershell常用命令/" class="article-date">
  <time datetime="2020-06-18T12:44:15.000Z" itemprop="datePublished">2020-06-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/18/powershell常用命令/">powershell 基础知识</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="todo"><a href="#todo" class="headerlink" title="todo"></a>todo</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 返回的就是一个object，所有可以call stop方法</span><br><span class="line">(Get-Service -Name w32time).Stop()</span><br></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/18/powershell常用命令/" data-id="ckbxofaj9000acouxv3lsir30" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/powershell/">powershell</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-网络协议" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/10/网络协议/" class="article-date">
  <time datetime="2020-06-10T14:51:52.000Z" itemprop="datePublished">2020-06-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/10/网络协议/">ping网络协议</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>ping  没有指定端口这个选项吧，他是网络层的，端口可是传输层的概念啊。</p>
<p>Ping程序使用的是ICMP协议，ICMP不像http，FTP应用层有传输层的端口号，（它们使用TCP的端口号80和20/21）。ICMP直接封装在IP包内</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/10/网络协议/" data-id="ckbxofajb000ccouxyyyeuxeo" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/网络/">网络</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ansible-windows踩坑" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2020/06/04/ansible-windows踩坑/" class="article-date">
  <time datetime="2020-06-04T12:44:15.000Z" itemprop="datePublished">2020-06-04</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2020/06/04/ansible-windows踩坑/">ansible windows setup</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="1"><a href="#1" class="headerlink" title="1"></a>1</h2><p>/etc/ansible/hosts如下，ansible_winrm_transport是关键，否则会报错    “msg”: “plaintext: the specified credentials were rejected by the server”,<br><a href="https://www.jianshu.com/p/0ad50049adb7" target="_blank" rel="noopener">https://www.jianshu.com/p/0ad50049adb7</a></p>
<p>[windows]<br>node3 ansible_user=xuhang ansible_password=xuhang ansible_connection=winrm ansible_winrm_transport=ntlm ansible_port=5985 ansible_winrm_scheme=http</p>
<h2 id="2"><a href="#2" class="headerlink" title="2"></a>2</h2><p><a href="https://www.cnblogs.com/herui1991/p/12304487.html" target="_blank" rel="noopener">https://www.cnblogs.com/herui1991/p/12304487.html</a><br>重点：千万不要yum安装ansible。选择pip3安装，或者二进制包安装。否则，即便安装了pywinrm插件也无法管理Windows主机。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip3 install --user ansible</span><br></pre></td></tr></table></figure></p>
<h2 id="3"><a href="#3" class="headerlink" title="3"></a>3</h2><p>[xuhang@localhost ansible]$ ansible all -m ping<br>[WARNING]: No python interpreters found for host node3 (tried [‘/usr/bin/python’, ‘python3.7’, ‘python3.6’, ‘python3.5’, ‘python2.7’, ‘python2.6’, ‘/usr/libexec/platform-python’, ‘/usr/bin/python3’,<br>‘python’])</p>
<p>这个是因为远程主机是windows，他当成了linux，linux 远程主机需要安装python，至于他为什么当成linux可能是因为这个用的方式不对，不能直接测试ping，应该用下面的例子</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line"># The playbook install 7zip</span><br><span class="line">- hosts: windows</span><br><span class="line">  tasks:</span><br><span class="line">   - name: Ensure 7-Zip is installed via Chocolatey</span><br><span class="line">     win_chocolatey:</span><br><span class="line">       name: 7zip</span><br><span class="line">       state: present</span><br></pre></td></tr></table></figure>
<h2 id="wrm服务"><a href="#wrm服务" class="headerlink" title="wrm服务"></a>wrm服务</h2><p>这个服务在windows server2016是默认打开的，通过命令winrm quickconfig可以打开，提示默认打开，当然这个只是http的方式，https需要证书打开</p>
<h2 id="authentication"><a href="#authentication" class="headerlink" title="authentication"></a>authentication</h2><p><a href="https://docs.ansible.com/ansible/latest/user_guide/windows_winrm.html#basic" target="_blank" rel="noopener">https://docs.ansible.com/ansible/latest/user_guide/windows_winrm.html#basic</a><br>Basic authentication is one of the simplest authentication options to use, but is also the most insecure. This is because the username and password are simply base64 encoded, and if a secure channel is not in use (eg, HTTPS) then it can be decoded by anyone. Basic authentication can only be used for local accounts (not domain accounts).</p>
<p><a href="https://docs.ansible.com/ansible/latest/user_guide/windows_setup.html#winrm-setup" target="_blank" rel="noopener">https://docs.ansible.com/ansible/latest/user_guide/windows_setup.html#winrm-setup</a><br>这一步把basic authentication给打开了，basic需要用户名密码，但是可能需要先执行这个powershell脚本来enable</p>
<h2 id="总结下就是google和百度一起搜找问题的答案"><a href="#总结下就是google和百度一起搜找问题的答案" class="headerlink" title="总结下就是google和百度一起搜找问题的答案"></a>总结下就是google和百度一起搜找问题的答案</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://mengxu2018.github.io/2020/06/04/ansible-windows踩坑/" data-id="ckbxofaif0003couxmq1vnh1w" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/automation/">automation</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="space">&hellip;</span><a class="page-number" href="/page/11/">11</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AI/">AI</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IO/">IO</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OS/">OS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/automation/">automation</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cloud/">cloud</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/database/">database</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dubbo/">dubbo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/grpc/">grpc</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hadoop/">hadoop</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hardware/">hardware</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hbase/">hbase</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/istio/">istio</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/java/">java</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/javascript/">javascript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jvm/">jvm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kafka/">kafka</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kubernetes/">kubernetes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/maven/">maven</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mongodb/">mongodb</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/powershell/">powershell</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/redis/">redis</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/search/">search</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/security/">security</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spark/">spark</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring/">spring</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/">spring-boot</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/win10/">win10</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/zookeeper/">zookeeper</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络/">网络</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AI/" style="font-size: 11.43px;">AI</a> <a href="/tags/IO/" style="font-size: 10px;">IO</a> <a href="/tags/OS/" style="font-size: 15.71px;">OS</a> <a href="/tags/automation/" style="font-size: 11.43px;">automation</a> <a href="/tags/cloud/" style="font-size: 10px;">cloud</a> <a href="/tags/database/" style="font-size: 11.43px;">database</a> <a href="/tags/docker/" style="font-size: 11.43px;">docker</a> <a href="/tags/dubbo/" style="font-size: 10px;">dubbo</a> <a href="/tags/git/" style="font-size: 10px;">git</a> <a href="/tags/grpc/" style="font-size: 10px;">grpc</a> <a href="/tags/hadoop/" style="font-size: 10px;">hadoop</a> <a href="/tags/hardware/" style="font-size: 11.43px;">hardware</a> <a href="/tags/hbase/" style="font-size: 10px;">hbase</a> <a href="/tags/istio/" style="font-size: 10px;">istio</a> <a href="/tags/java/" style="font-size: 18.57px;">java</a> <a href="/tags/javascript/" style="font-size: 11.43px;">javascript</a> <a href="/tags/jvm/" style="font-size: 11.43px;">jvm</a> <a href="/tags/kafka/" style="font-size: 20px;">kafka</a> <a href="/tags/kubernetes/" style="font-size: 17.14px;">kubernetes</a> <a href="/tags/linux/" style="font-size: 17.14px;">linux</a> <a href="/tags/maven/" style="font-size: 11.43px;">maven</a> <a href="/tags/mongodb/" style="font-size: 10px;">mongodb</a> <a href="/tags/mysql/" style="font-size: 10px;">mysql</a> <a href="/tags/nodejs/" style="font-size: 10px;">nodejs</a> <a href="/tags/powershell/" style="font-size: 15.71px;">powershell</a> <a href="/tags/python/" style="font-size: 11.43px;">python</a> <a href="/tags/redis/" style="font-size: 10px;">redis</a> <a href="/tags/search/" style="font-size: 12.86px;">search</a> <a href="/tags/security/" style="font-size: 14.29px;">security</a> <a href="/tags/spark/" style="font-size: 20px;">spark</a> <a href="/tags/spring/" style="font-size: 12.86px;">spring</a> <a href="/tags/spring-boot/" style="font-size: 10px;">spring-boot</a> <a href="/tags/tomcat/" style="font-size: 10px;">tomcat</a> <a href="/tags/win10/" style="font-size: 10px;">win10</a> <a href="/tags/zookeeper/" style="font-size: 10px;">zookeeper</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/03/06/kubernetes-basic-definition/">kubernetes basic</a>
          </li>
        
          <li>
            <a href="/2021/03/04/spring-boot-debug/">spring boot debug</a>
          </li>
        
          <li>
            <a href="/2020/07/16/postgres-cluster/">postgres cluster</a>
          </li>
        
          <li>
            <a href="/2020/06/27/elasticsearch-remote-access/">elasticsearch cluster</a>
          </li>
        
          <li>
            <a href="/2020/06/22/powershell概念/">powershell 概念</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2021 xu, hang<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>